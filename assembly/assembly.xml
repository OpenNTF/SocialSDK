<assembly
	xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
	<id>beta</id>
	<formats>
		<format>zip</format>
		<format>tar.gz</format>
	</formats>
	<baseDirectory>target</baseDirectory>
	<includeBaseDirectory>false</includeBaseDirectory>

	<moduleSets>
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>com.ibm.sbt:com.ibm.commons</include>
				<include>com.ibm.sbt:com.ibm.commons.runtime</include>
				<include>com.ibm.sbt:com.ibm.commons.xml</include>
				<include>com.ibm.sbt:com.ibm.sbt.core</include>
				<include>com.ibm.sbt:com.ibm.sbt.playground</include>
			</includes>
			<binaries>
				<outputDirectory>sbtsdk/redist/jar</outputDirectory>
				<outputFileNameMapping>${module.artifactId}-${project.version}.${module.extension}</outputFileNameMapping>
				<unpack>false</unpack>
			</binaries>
		</moduleSet>
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>com.ibm.sbt:sbt.dojo180</include>
				<include>com.ibm.sbt:sbt.jquery182</include>
				<include>com.ibm.sbt:sbt.bootstrap211</include>
				<include>com.ibm.sbt:sbt.ckeditor422</include>
				<include>com.ibm.sbt:com.ibm.sbt.proxy.web</include>
			</includes>
			<binaries>
				<outputDirectory>sbtsdk/redist/war</outputDirectory>
				<outputFileNameMapping>${module.artifactId}.war</outputFileNameMapping>
				<unpack>false</unpack>
			</binaries>
		</moduleSet>
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>com.ibm.sbt:com.ibm.sbt.web:war:*</include>
			</includes>
			<binaries>
				<outputDirectory>sbtsdk/redist/war</outputDirectory>
				<outputFileNameMapping>sbt.war</outputFileNameMapping>
				<unpack>false</unpack>
			</binaries>
		</moduleSet>
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>com.ibm.sbt:sbt.sample</include>
			</includes>
			<binaries>
				<outputDirectory>sbtsdk/samples/ear</outputDirectory>
				<outputFileNameMapping>${module.artifactId}-${project.version}.${module.extension}</outputFileNameMapping>
				<unpack>false</unpack>
			</binaries>
		</moduleSet>
		<!--
				PBastide: Removed Projects to reduce deliverable size
				<include>com.ibm.sbt:sbt.sample.portlets</include>
				<include>com.ibm.sbt:acme.social.sample</include>
				-->
		<!--<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				
			</includes>
			<binaries>
				<outputDirectory>sbtsdk/samples/ear</outputDirectory>
				<outputFileNameMapping>${module.artifactId}-${project.version}.${module.extension}</outputFileNameMapping>
				<unpack>false</unpack>
			</binaries>
		</moduleSet> 
		-->
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>com.ibm.sbt:sbt.sample.web</include>
				<!--
				PBastide: Removed Projects to reduce deliverable size
				<include>com.ibm.sbt:com.ibm.sbt.landing</include>
				<include>com.ibm.sbt:acme.social.sample.dataapp</include>
				<include>com.ibm.sbt:acme.social.sample.webapp</include>
				<include>com.ibm.sbt:acme.sample.webapp</include>
				<include>com.ibm.sbt:helloworld.webapp</include>
				<include>com.ibm.sbt:smartcloud.webapp</include>
				<include>com.ibm.sbt:grantaccess.webapp</include>
				<include>com.ibm.sbt:sso.sample.webapp</include>
				-->
			</includes>
			<binaries>
				<outputDirectory>sbtsdk/samples/war</outputDirectory>
				<outputFileNameMapping>${module.artifactId}.${module.extension}</outputFileNameMapping>
				<unpack>false</unpack>
			</binaries>
		</moduleSet>
		<!--
				PBastide: remove samples / updates
				<include>com.ibm.sbt:sbt.sample.app</include>
		-->
		<!--
		moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>com.ibm.sbt:com.ibm.commons</include>
				<include>com.ibm.sbt:com.ibm.commons.runtime</include>
				<include>com.ibm.sbt:com.ibm.commons.xml</include>
				<include>com.ibm.sbt:com.ibm.sbt.core</include>
				
			</includes>
			<binaries>
				<dependencySets>
				</dependencySets>
				<outputDirectory>sbtsdk/samples/jar</outputDirectory>
				<outputFileNameMapping>${module.artifactId}-${project.version}.${module.extension}</outputFileNameMapping>
				<unpack>false</unpack>
			</binaries>
		</moduleSet>
		-->
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>com.ibm.sbt:com.ibm.sbt.php.core:zip:*</include>
				<include>com.ibm.sbt:com.ibm.sbt.php.wordpress:zip:*</include>
				<include>com.ibm.sbt:com.ibm.sbt.php.moodle:zip:*</include>
			</includes>
			<binaries>
				<outputDirectory>sbtsdk/redist/php</outputDirectory>

				<unpack>false</unpack>
			</binaries>
		</moduleSet>
		<moduleSet>
			<useAllReactorProjects>true</useAllReactorProjects>
			<includes>
				<include>com.ibm.sbt:com.ibm.sbt.core.test</include>
				<include>com.ibm.sbt:com.ibm.sbt.automation.core</include>
				<include>com.ibm.sbt:com.ibm.sbt.automation.test</include>
			</includes>
			<binaries>
				<outputDirectory>sbtsdk/test/selenium</outputDirectory>
				<outputFileNameMapping>${module.artifactId}-${project.version}.${module.extension}</outputFileNameMapping>
				<unpack>false</unpack>
			</binaries>
		</moduleSet>
		<moduleSet>
			<includes>
				<include>com.ibm.sbt:com.ibm.sbt.domino.playground.updatesite</include>
			</includes>
			<binaries>
				<outputDirectory>sbtsdk/redist/domino</outputDirectory>
				<attachmentClassifier>zip</attachmentClassifier>
				<outputFileNameMapping>com.ibm.sbt.domino.updatesite.zip</outputFileNameMapping>
			</binaries>
		</moduleSet>
	</moduleSets>
	<dependencySets>
		<!-- PBastide: removed samples -->
		<!--
		<dependencySet>
			<includes>
				<include>commons-logging:commons-logging</include>
				<include>org.apache.httpcomponents:httpclient</include>
				<include>org.apache.httpcomponents:httpcore</include>
			</includes>
			<outputDirectory>sbtsdk/samples/jar</outputDirectory>
		</dependencySet>
		-->
		<dependencySet>
			<includes>
				<include>com.ibm.sbt:com.ibm.sbt.php.core:zip:*</include>
				<include>com.ibm.sbt:com.ibm.sbt.php.moodle:zip:*</include>
				<include>com.ibm.sbt:com.ibm.sbt.php.wordpress:zip:*</include>
			</includes>
			<outputDirectory>sbtsdk/redist/php</outputDirectory>


		</dependencySet>
		<dependencySet>
			<includes>
				<include>com.ibm.sbt:com.ibm.sbt.domino.playground.updatesite</include>
			</includes>
			<outputDirectory>sbtsdk/redist/domino</outputDirectory>
			<outputFileNameMapping>com.ibm.sbt.domino.updatesite.zip</outputFileNameMapping>

		</dependencySet>

		<dependencySet>
			<includes>
				<include>com.ibm.sbt:com.ibm.sbt.web:war</include>
			</includes>
			<outputDirectory>sbtsdk/redist/war</outputDirectory>
			<outputFileNameMapping>sbt.war</outputFileNameMapping>

		</dependencySet>
	</dependencySets>

	<fileSets>
		<!-- removed the sbt.properties from the filesets
		<fileSet>
			<directory>../samples/java/sbt.sample.app</directory>
			<outputDirectory>sbtsdk/samples/jar</outputDirectory>
			<includes>
				<include>sbt.properties</include>
			</includes>
		</fileSet>
		-->
		<fileSet>
			<directory>${build.target}/doc/jsdoc</directory>
			<outputDirectory>sbtsdk/doc/jsdoc</outputDirectory>
			<includes>
				<include>**/*.*</include>
			</includes>
		</fileSet>

		<!-- PBastide: Removed Tomcat --> 
		<!--
		<fileSet>
			<directory>${project.build.directory}/tomcat</directory>
			<outputDirectory>sbtsdk/tomcat</outputDirectory>
			<includes>
				<include>**/apache-tomcat-7.0.61-sbt.zip</include>
			</includes>
		</fileSet>
		-->
		
		<fileSet>
			<directory>../samples/config</directory>
			<outputDirectory>sbtsdk/config</outputDirectory>
			<includes>
				<include>*.xml</include>
				<include>*.properties</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>../license</directory>
			<outputDirectory>sbtsdk</outputDirectory>
			<includes>
				<include>*.*</include>
				<include>*</include>
			</includes>
		</fileSet>
		
		<fileSet>
			<directory>../samples/scripts</directory>
			<outputDirectory>sbtsdk/scripts</outputDirectory>
			<excludes>
				<exclude>**/.project</exclude>
			</excludes>
			<includes>
				<include>*.*</include>
			</includes>
		</fileSet>

		<fileSet>
			<directory>../samples/scripts</directory>
			<outputDirectory>sbtsdk/scripts</outputDirectory>
			<excludes>
				<exclude>**/bin/</exclude>
				<exclude>**/target/</exclude>
				<exclude>**/pom.xml</exclude>
				<exclude>**/.jazzignore</exclude>
				<exclude>**/.apt_generated</exclude>
				<exclude>**/.factorypath</exclude>
			</excludes>
			<includes>
				<include>**/*.*</include>
			</includes>
		</fileSet>

		<fileSet>
			<directory>../samples/dbscripts</directory>
			<outputDirectory>sbtsdk/dbscripts</outputDirectory>
			<excludes>
				<exclude>**/bin/</exclude>
				<exclude>**/target/</exclude>
				<exclude>**/pom.xml</exclude>
				<exclude>**/.jazzignore</exclude>
				<exclude>**/.apt_generated</exclude>
				<exclude>**/.factorypath</exclude>
			</excludes>
			<includes>
				<include>**/*.*</include>
			</includes>
		</fileSet>


		<fileSet>
			<directory>../samples/config</directory>
			<outputDirectory>sbtsdk/config</outputDirectory>
			<excludes>
				<exclude>**/bin/</exclude>
				<exclude>**/target/</exclude>
				<exclude>**/pom.xml</exclude>
				<exclude>**/.jazzignore</exclude>
				<exclude>**/.apt_generated</exclude>
				<exclude>**/.factorypath</exclude>
			</excludes>
			<includes>
				<include>**/*.*</include>
			</includes>
		</fileSet>



		<fileSet>
			<directory>../samples/domino/nsf/playground</directory>
			<outputDirectory>sbtsdk/redist/domino</outputDirectory>
			<includes>
				<include>*.*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>../samples/domino/nsf/socialenabler</directory>
			<outputDirectory>sbtsdk/redist/domino</outputDirectory>
			<includes>
				<include>*.*</include>
			</includes>
		</fileSet>

		<fileSet>
			<directory>../domino/com.ibm.sbt.domino.updatesite/target</directory>
			<outputDirectory>sbtsdk/redist/domino</outputDirectory>
			<includes>
				<include>com.ibm.sbt.domino.updatesite*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>../samples/domino/com.ibm.sbt.domino.playground.updatesite/target</directory>
			<outputDirectory>sbtsdk/redist/domino</outputDirectory>
			<includes>
				<include>com.ibm.sbt.domino.playground.updatesite*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>../../workspaces</directory>
			<outputDirectory>sbtsdk/</outputDirectory>
			<useDefaultExcludes>false</useDefaultExcludes>
			<excludes>
				<exclude>**/.jazzignore</exclude>
				<exclude>**/.gitignore</exclude>
			</excludes>
			<includes>
				<include>**/*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/classes</directory>
			<includes>
				<include>version.txt</include>
			</includes>
			<outputDirectory>sbtsdk</outputDirectory>
		</fileSet>
		<!-- PBastide: Removed the Inclusion of the Sources in the Downloadable 
			sources are now included in the release page as a separate downloadable
		-->
		<!--
		<fileSet>
			<directory>${project.build.directory}/sources</directory>
			<includes>
				<include>*.zip</include>
			</includes>
			<outputDirectory>sbtsdk/sources</outputDirectory>
		</fileSet>
		-->
		<fileSet>
			<directory>${project.build.directory}/sources/SocialSDK-iOS/library</directory>
			<includes>
				<include>**/*</include>
			</includes>
			<outputDirectory>sbtsdk/redist/ios</outputDirectory>
		</fileSet>
	</fileSets>
</assembly>
